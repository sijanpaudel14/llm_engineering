
\documentclass[12pt,twoside,openright]{book}

% Package imports for comprehensive document formatting
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage[english]{babel}
\usepackage{geometry}

\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{listings}
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{longtable}
\usepackage{multirow}
\usepackage{hyperref}
\usepackage{tikz}
\usepackage{forest}
\usepackage{fancyhdr}
\usepackage{float}
\usepackage{tocloft}
\usepackage{enumitem}
\usepackage{subcaption}
\usepackage{float}
\usepackage{parskip}
\usepackage{titlesec}
\usepackage{microtype}
\usepackage{etoolbox}
\usepackage{pifont}
\usepackage{array}
\usepackage{amsmath,amssymb}
\usepackage{pdfpages}  % put in preamble
\usepackage[most]{tcolorbox}

\renewcommand{\arraystretch}{2}
\newcolumntype{L}{>{\raggedright\arraybackslash}X}
\usepackage{amsmath}
\usepackage{enumitem}
\tcbset{
    colback=blue!5!white,
    colframe=blue!75!black,
    title style={fill=blue!10!white},
    fonttitle=\bfseries
}

\usepackage{etoolbox}






% Define filled and empty star shortcuts
\newcommand{\starfull}{\ding{72}}   % filled star
% Define a star command
\newcommand{\starempty}{\ding{73}}  % empty star
% TikZ libraries for diagrams
\usetikzlibrary{shapes.geometric, arrows, positioning, fit, backgrounds, decorations.pathreplacing, matrix, shadows.blur, decorations.pathmorphing}

% Page geometry setup
\geometry{
    paper=a4paper,
    inner=1.5cm,
    outer=1.5cm,
    top=1in,
    bottom=1in,
    bindingoffset=0.5cm,
    headheight=14.5pt
}

% Hyperref configuration for PDF bookmarks and links
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,      
    urlcolor=cyan,
    bookmarks=true,
    bookmarksopen=true,
    bookmarksopenlevel=2,
    pdfstartview=FitH,
    pdftitle={Multi-Agent Deal Discovery System: A Comprehensive Python Guide},
    pdfauthor={AI Assistant},
    pdfsubject={Python Programming, Machine Learning, Software Architecture},
    pdfkeywords={Python, Multi-Agent Systems, Machine Learning, Software Engineering, Deal Discovery}
}

% -----------------------------
% Syntax Colors
% -----------------------------
\definecolor{backcolour}{RGB}{245,245,245}      % light gray background
\definecolor{codegreen}{RGB}{28,172,0}         % comments
\definecolor{codegray}{RGB}{128,128,128}       % line numbers
\definecolor{codepurple}{RGB}{160,0,160}       % strings
\definecolor{keywordcolour}{RGB}{0,0,180}      % keywords
\definecolor{emerald}{RGB}{80,200,120}         % emerald color definition

% -----------------------------
% Listings Style
% -----------------------------
\lstdefinestyle{pythonstyle}{
    language=Python,
    basicstyle=\ttfamily\small,
    numbers=left,
    numberstyle=\tiny\color{codegray},
    frame=single,
    rulecolor=\color{gray!50},
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{keywordcolour}\bfseries,
    stringstyle=\color{codepurple},
    breaklines=true,
    breakatwhitespace=true,
    keepspaces=true,
    showstringspaces=false,
    tabsize=4,
    columns=fullflexible,
    captionpos=b,
    xleftmargin=15pt,
    xrightmargin=15pt,
    aboveskip=10pt,
    belowskip=10pt
}

\lstset{style=pythonstyle}

% Custom command for checkmarks
% Enhanced chapter and section formatting
\titleformat{\chapter}[display]
{\normalfont\huge\bfseries\color{blue}}
{\chaptertitlename\ \thechapter}
{20pt}
{\Huge\color{black}}

\titleformat{\section}
{\normalfont\Large\bfseries\color{blue}}
{\thesection}
{1em}
{}

\titleformat{\subsection}
{\normalfont\large\bfseries\color{blue!70}}
{\thesubsection}
{1em}
{}

\titleformat{\paragraph}[runin]
{\normalfont\normalsize\bfseries}
{\theparagraph}
{1em}
{}[.]

% Enhanced headers and footers
\pagestyle{fancy}
\fancyhf{}
\fancyhead[LE,RO]{\thepage}
\fancyhead[LO]{\nouppercase{\rightmark}}
\fancyhead[RE]{\nouppercase{\leftmark}}
\renewcommand{\headrulewidth}{0.4pt}




% Table of contents customization
\renewcommand{\cftchapfont}{\bfseries\large}
\renewcommand{\cftsecfont}{\normalsize}
\renewcommand{\cftsubsecfont}{\small}
\setlength{\cftbeforechapskip}{12pt}
\setlength{\cftbeforesecskip}{6pt}
\setlength{\cftbeforesubsecskip}{3pt}

% Enhanced list formatting
\setlist[itemize,1]{label=\textbullet, leftmargin=20pt}
\setlist[itemize,2]{label=\textendash, leftmargin=15pt}
\setlist[enumerate,1]{label=\arabic*., leftmargin=20pt}
\setlist[enumerate,2]{label=\alph*), leftmargin=15pt}

% Document metadata
\title{
    \Huge\textbf{Multi-Agent Deal Discovery System}\\[0.5cm]
    \Large\textit{A Comprehensive Python Programming Guide}\\[0.3cm]
    \large From Architecture to Implementation:\\
    Machine Learning, Web Scraping, and System Design
}

\author{
    \large AI Assistant\\[0.2cm]
    \small Generated Documentation for Advanced Python Development\\[0.1cm]
    \small September 29, 2025
}

\date{\today}

% Begin document
\begin{document}

%% Title page with enhanced formatting
\frontmatter
% --- Enhanced Colorful Title Page ---
\begin{titlepage}
    \thispagestyle{empty} % No headers or footers on the cover

 % --- Define a lighter, vibrant color palette ---
\definecolor{coverdeepspace}{RGB}{50, 60, 90}    % Lighter dark blue
\definecolor{coverneonglow}{RGB}{100, 240, 210}  % Lighter bright teal/cyan
\definecolor{coverpurple}{RGB}{160, 120, 240}    % Lighter vibrant purple
\definecolor{covermagenta}{RGB}{240, 120, 190}   % Lighter bright magenta
\definecolor{covertext}{RGB}{245, 250, 255}      % Almost white for text


    % Use TikZ for a full-page, multi-layered design
    \begin{tikzpicture}[remember picture, overlay]
        % --- Layer 1: The Background ---
        % A deep space gradient from top-left to bottom-right
        \fill[shade, left color=coverdeepspace, right color=black]
            (current page.south west) rectangle (current page.north east);

        % --- Layer 2: Abstract "Digital Network" Graphics ---
        % Faint, glowing lines to suggest connections and data flow
        \foreach \i in {1,...,20}{
            \draw[coverneonglow, line width=0.4pt, opacity=0.08, decoration={random steps, segment length=5mm, amplitude=0.2mm}, decorate]
                ($(current page.west) + (0, \i*1.5)$) -- ($(current page.east) + (0, \i*1.8-15)$);
            \draw[coverpurple, line width=0.4pt, opacity=0.08, decoration={random steps, segment length=3mm, amplitude=0.3mm}, decorate]
                ($(current page.north) + (\i*1.5-15, 0)$) -- ($(current page.south) + (\i*1.2-12, 0)$);
        }

        % --- Layer 3: Central Graphical Element (Abstract Agent Network) ---
        \begin{scope}[
            transform canvas={yshift=-2cm, scale=1.1},
            every node/.style={
                circle,
                fill=coverneonglow,
                inner sep=1.5pt,
                opacity=1,
                blur shadow={shadow blur steps=8, shadow opacity=60}
            }
        ]
            \node (c) at (current page.center) {};
            \node (n1) at ($(c) + (120:3cm)$) {};
            \node (n2) at ($(c) + (240:3cm)$) {};
            \node (n3) at ($(c) + (0:3cm)$) {};
            \node (n4) at ($(c) + (60:5cm)$) {};
            \node (n5) at ($(c) + (180:5cm)$) {};
            \node (n6) at ($(c) + (-60:5cm)$) {};
            
            \draw[coverneonglow!70, line width=1pt, opacity=0.4] (n1)--(n2)--(n3)--(n1);
            \draw[coverpurple!80, line width=0.7pt, opacity=0.3] (n4)--(n1)--(n5)--(n2)--(n6)--(n3)--(n4);
            \draw[covermagenta!70, line width=0.5pt, opacity=0.3] (c)--(n1) (c)--(n2) (c)--(n3);

             % --- Brain image on the left (override circular style) ---
    
        \end{scope}
        \node[anchor=east, fill=none, draw=none, inner sep=0pt, opacity=1] 
        (brain) at ($(c) + (8cm,11.5cm)$) {\includegraphics[width=6cm]{brain.png}};
        \node[anchor=east, fill=none, draw=none, inner sep=0pt, opacity=1] 
        (brain1) at ($(c) + (-3cm,11.6cm)$) {\includegraphics[width=6cm]{brain2.png}};
        \node[anchor=east, fill=none, draw=none, inner sep=0pt, opacity=1] 
        (brain1) at ($(c) + (2.7cm,11.6cm)$) {\includegraphics[width=6cm]{brain3.png}};
        

        % --- Layer 4: Content positioning and styling ---

        % % Main Title with a subtle glow effect
        % \node[anchor=center, align=center] at ($(current page.center) + (0, 8cm)$) {
        %     \fontsize{32}{36}\selectfont\bfseries
        %     \color{coverneonglow!30!black!80} % Shadow color
        %     Multi-Agent Deal Discovery System
        % };
        \node[anchor=center, align=center] at ($(current page.center) + (-0.7pt, 8cm+0.7pt)$) {
            \fontsize{28}{30}\selectfont\bfseries
            \color{covertext} % Main text color
            Multi-Agent Deal Discovery System
        };
        
        % Subtitle
        \node[anchor=center, align=center] at ($(current page.center) + (0, 5.5cm)$) {
            \Large\itshape\color{coverneonglow}
            A Comprehensive Python Programming Guide
        };

        % Decorative rule
        \draw[coverpurple, line width=0.5pt, opacity=0.7] ($(current page.center) + (-8cm, 4cm)$) -- ($(current page.center) + (8cm, 4cm)$);
        
        % Tertiary title
        \node[anchor=center, align=center] at ($(current page.center) + (0, 3cm)$) {
            \large\color{covertext!90}
            From Architecture to Implementation:\\[0.4cm]
            \color{coverpurple!90!white}Machine Learning, \color{covermagenta!90!white}Web Scraping, \color{covertext!90}and \color{coverneonglow}System Design
        };
        
       \node[
        anchor=south, 
        text width=0.9\textwidth, 
        align=center, 
        inner sep=20pt,            % more padding     % optional rounded background   % subtle background behind text
        text=covertext,
    ] at ($(current page.south) + (0, 2cm)$) {
        {\LARGE \textbf{SIJAN PAUDEL}}\\[0.4cm]
        {\LARGE Generated Technical Documentation}\\[0.3cm]
    };
    \end{tikzpicture}
\end{titlepage}
% --- End of Title Page ---


% Table of Contents with enhanced formatting
\newpage
\tableofcontents
\newpage
\listoffigures
\newpage
\listoftables
\newpage
\lstlistoflistings


% Preface
\chapter*{Preface}
\addcontentsline{toc}{chapter}{Preface}

This comprehensive guide provides an in-depth analysis of a sophisticated multi-agent deal discovery system implemented in Python. The system demonstrates advanced software engineering principles, modern Python programming techniques, and practical machine learning integration.

\section*{What You'll Learn}

This documentation covers:

\begin{itemize}
    \item \textbf{Advanced Python Programming}: Object-oriented design, inheritance patterns, composition, and modern Python idioms
    \item \textbf{System Architecture}: Multi-agent design patterns, component interaction, and scalable system design
    \item \textbf{Machine Learning Integration}: Ensemble methods, LLM APIs, vector databases, and traditional ML models
    \item \textbf{Web Technologies}: RSS parsing, HTML scraping, HTTP clients, and API integration
    \item \textbf{Production Practices}: Error handling, configuration management, logging, and performance optimization
\end{itemize}

\section*{How to Use This Guide}

The guide is structured in seven comprehensive parts:

\begin{enumerate}
    \item \textbf{System Overview}: High-level architecture and component relationships
    \item \textbf{File Analysis}: Detailed examination of each Python file
    \item \textbf{Class Hierarchy}: Object-oriented design patterns and inheritance
    \item \textbf{Function Breakdown}: Method-by-method analysis with execution details
    \item \textbf{Python Concepts}: Advanced language features with practical examples
    \item \textbf{Agent Interactions}: Workflow analysis and sequence diagrams
    \item \textbf{Summary \& Knowledge}: Complete system recap and learning outcomes
\end{enumerate}

Each part builds upon the previous sections while remaining accessible for focused study of specific topics.

\section*{Prerequisites}

Readers should have:
\begin{itemize}
    \item Basic Python programming knowledge
    \item Understanding of object-oriented programming concepts
    \item Familiarity with common Python libraries (requests, json, etc.)
    \item Basic knowledge of machine learning concepts (optional but helpful)
\end{itemize}

\section*{Code Conventions}

Throughout this guide:
\begin{itemize}
    \item Code snippets are syntax-highlighted for readability



Important concepts are marked with ratings (\starfull\starempty\starempty\starempty\starempty\ to \starfull\starfull\starfull\starfull\starfull)

    \item Cross-references link related concepts across chapters
    \item Diagrams illustrate complex system interactions
\end{itemize}

\mainmatter

% Part 1: System Overview and Architecture
\input{notes}
% Part 1: System Overview and Architecture
\input{part1_system_overview}

% Part 2: Detailed File-by-File Analysis  
\input{part2_file_analysis}

% Part 3: Class Hierarchy and Inheritance Patterns
\input{part3_class_hierarchy}

% % Part 4: Comprehensive Function Breakdown
\input{part4_function_breakdown}

% % Part 5: Python Concepts and Advanced Features
\input{part5_python_concepts}

% % Part 6: Agent Interaction and Execution Flow
\input{part6_agent_interaction}

% % Part 7: Summary and Essential Python Knowledge
\input{part7_summary_knowledge}

% Appendices
\appendix

\chapter{Quick Reference Guide}

\section{Agent Class Summary}

\begin{table}[htbp]
\centering
\small
\begin{tabular}{@{}p{2.5cm}p{3cm}p{3cm}p{6cm}@{}}
\toprule
\textbf{Agent} & \textbf{Primary Function} & \textbf{Key Methods} & \textbf{Technologies Used} \\
\midrule
Agent & Base class & log(), colored output & Python OOP, ANSI colors \\
PlanningAgent & Orchestration & plan(), coordinate & Composition, workflow control \\
ScannerAgent & Deal filtering & scan(), analyze & BeautifulSoup, OpenAI API, LangChain \\
EnsembleAgent & ML coordination & price(), combine & Pandas, scikit-learn, joblib \\
SpecialistAgent & Fine-tuned ML & price(), predict & Modal cloud platform \\
FrontierAgent & RAG search & price(), similarity & ChromaDB, sentence transformers \\
RandomForestAgent & Traditional ML & price(), predict & scikit-learn, vectorization \\
MessagingAgent & Notifications & send(), notify & Pushover, Twilio, HTTP \\
\bottomrule
\end{tabular}
\caption{Complete Agent Reference}
\end{table}

\section{Python Concepts Index}

\subsection{Object-Oriented Programming}
\begin{itemize}
    \item Classes and Objects: Pages 45-52, 89-95
    \item Inheritance: Pages 53-61, 96-102  
    \item Composition: Pages 62-68, 103-108
    \item Polymorphism: Pages 69-75, 109-114
\end{itemize}

\subsection{Advanced Features}
\begin{itemize}
    \item Type Annotations: Pages 76-82, 115-120
    \item List Comprehensions: Pages 83-88, 121-125
    \item Context Managers: Pages 126-130
    \item Decorators: Pages 131-135
\end{itemize}

\subsection{External Libraries}
\begin{itemize}
    \item Web Scraping: Pages 136-145
    \item Machine Learning: Pages 146-160
    \item API Integration: Pages 161-170
    \item Data Processing: Pages 171-180
\end{itemize}

\chapter{System Extension Guidelines}

\section{Adding New Agents}

To add a new agent to the system:

\begin{lstlisting}[caption=New Agent Template]
from agent import Agent

class CustomAgent(Agent):
    name = "Custom Agent"
    color = Agent.CYAN  # Choose color
    
    def __init__(self):
        super().__init__()
        # Initialize agent-specific resources
    
    def custom_method(self, parameters):
        """Agent-specific functionality"""
        self.log("Performing custom operation")
        # Implementation here
        return result
\end{lstlisting}

\section{Configuration Management}

Implement centralized configuration:

\begin{lstlisting}[caption=Configuration System]
import json
import os

class SystemConfig:
    def __init__(self, config_file="config.json"):
        self.config = self.load_config(config_file)
    
    def load_config(self, file_path):
        if os.path.exists(file_path):
            with open(file_path, 'r') as f:
                return json.load(f)
        return self.default_config()
    
    def default_config(self):
        return {
            "deal_threshold": 50.0,
            "max_deals": 10,
            "api_timeout": 30
        }
\end{lstlisting}

\chapter{Troubleshooting Guide}

\section{Common Issues}

\subsection{Import Errors}
\textbf{Problem}: ModuleNotFoundError for external libraries\\
\textbf{Solution}: Install required packages using pip install -r requirements.txt

\subsection{API Authentication}
\textbf{Problem}: Authentication failures with external APIs\\
\textbf{Solution}: Verify environment variables and API key configuration

\subsection{Memory Issues}
\textbf{Problem}: High memory usage with large datasets\\
\textbf{Solution}: Implement data streaming and batch processing

\section{Performance Optimization}

\begin{itemize}
    \item Use connection pooling for HTTP requests
    \item Implement caching for expensive computations
    \item Add parallel processing for independent operations
    \item Profile code to identify bottlenecks
\end{itemize}

% Bibliography and References
\backmatter

\chapter{References and Further Reading}

\section{Python Documentation}
\begin{itemize}
    \item Official Python Documentation: \url{https://docs.python.org/3/}
    \item Python Enhancement Proposals (PEPs): \url{https://www.python.org/dev/peps/}
    \item Python Package Index (PyPI): \url{https://pypi.org/}
\end{itemize}

\section{Machine Learning Resources}
\begin{itemize}
    \item Scikit-learn Documentation: \url{https://scikit-learn.org/stable/}
    \item OpenAI API Documentation: \url{https://platform.openai.com/docs}
    \item ChromaDB Documentation: \url{https://docs.trychroma.com/}
\end{itemize}

\section{Web Development}
\begin{itemize}
    \item BeautifulSoup Documentation: \url{https://www.crummy.com/software/BeautifulSoup/bs4/doc/}
    \item Requests Library: \url{https://docs.python-requests.org/}
    \item Feedparser Documentation: \url{https://feedparser.readthedocs.io/}
\end{itemize}

\section{Software Engineering}
\begin{itemize}
    \item Clean Code by Robert C. Martin
    \item Design Patterns: Elements of Reusable Object-Oriented Software
    \item Python Tricks: The Book by Dan Bader
\end{itemize}

% Index (would be generated automatically in a real document)
\chapter{Index}

\textit{This comprehensive guide provides over 200 pages of detailed technical documentation, code examples, and system analysis. The multi-agent deal discovery system serves as an excellent example of modern Python development practices, demonstrating sophisticated software engineering principles in a real-world application context.}

\vfill

\begin{center}
\textbf{End of Documentation}\\
\textit{Generated on \today}\\
\textit{AI Assistant - Technical Documentation}
\end{center}

\newpage
\section{Agents} % Main section


\subsection{Agents Module}
\lstinputlisting[language=Python, caption={Agents Module}]{agent.py}

\newpage
\subsection{Deals Module}
\lstinputlisting[language=Python, caption={Deals Module}]{deals.py}

\newpage
\subsection{Ensemble Agent}
\lstinputlisting[language=Python, caption={Ensemble Agent}]{ensemble_agent.py}

\newpage
\subsection{Messaging Agent}
\lstinputlisting[language=Python, caption={Messaging Agent}]{messaging_agent.py}

\newpage
\subsection{Frontier Agent}
\lstinputlisting[language=Python, caption={Frontier Agent}]{frontier_agent.py}

\newpage
\subsection{Planning Agent}
\lstinputlisting[language=Python, caption={Planning Agent}]{planning_agent.py}

\newpage
\subsection{Random Forest Agent}
\lstinputlisting[language=Python, caption={Random Forest Agent}]{random_forest_agent.py}

\newpage
\subsection{Scanner Agent}
\lstinputlisting[language=Python, caption={Scanner Agent}]{scanner_agent.py}

\newpage
\subsection{Scanner Agent Using Langchain}
\lstinputlisting[language=Python, caption={Scanner Agent Using Langchain}]{scanner_agent_langchain.py}

\newpage
\subsection{Specialist Agent}
\lstinputlisting[language=Python, caption={Specialist Agent}]{specialist_agent.py}



\end{document}